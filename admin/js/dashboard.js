function initDarkMode(){const t=document.getElementById("theme-toggle");if(!t)return;function e(e){const n=t.querySelector(".icon"),o=t.querySelector(".text");"dark"===e?(n.textContent="☀️",o.textContent=document.documentElement.getAttribute("data-light-text")||"Light Mode"):(n.textContent="🌙",o.textContent=document.documentElement.getAttribute("data-dark-text")||"Dark Mode")}e(document.documentElement.getAttribute("data-theme")),t.addEventListener("click",(function(){const t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("pilates-theme",t),e(t)}))}function initSubtitleControls(){document.querySelectorAll("video").forEach((function(t){const e=t.textTracks;if(e.length>0){const n=document.createElement("button");n.className="subtitle-toggle",n.textContent="CC ON";const o=t.parentNode;o.style.position="relative",o.appendChild(n);let c=!0;for(let t=0;t<e.length;t++)e[t].mode=0===t?"showing":"disabled";n.addEventListener("click",(function(){c=!c;for(let t=0;t<e.length;t++)e[t].mode=c&&0===t?"showing":"disabled";n.textContent=c?"CC ON":"CC OFF",n.style.backgroundColor=c?"var(--primary-color)":"rgba(0,0,0,0.7)"}))}}))}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})}))}))}function initCardAnimations(){document.querySelectorAll(".exercise-card").forEach(((t,e)=>{t.style.animationDelay=.1*e+"s",t.classList.add("fade-in-up")}))}function showSuccessMessage(t){const e=document.querySelector(".content-body"),n=document.querySelector(".profile-section");if(!e||!n)return;const o=document.createElement("div");o.className="success-message",o.textContent=t,e.insertBefore(o,n),setTimeout((()=>o.remove()),3e3)}!function(){const t=localStorage.getItem("pilates-theme")||"dark";document.documentElement.setAttribute("data-theme",t),setTimeout((()=>{document.documentElement.style.transition="all 0.3s ease"}),50)}(),document.addEventListener("DOMContentLoaded",(function(){initDarkMode(),initSubtitleControls(),initSmoothScroll(),initCardAnimations();const t=document.getElementById("avatar-file-input"),e=document.getElementById("current-avatar");t&&e&&t.addEventListener("change",(function(){if(this.files&&this.files[0]){const t=new FileReader;t.onload=function(t){e.src=t.target.result},t.readAsDataURL(this.files[0])}}))})),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".language-switcher"),e=t?.querySelector(".current-lang");if(t&&e){e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("open")})),document.addEventListener("click",(function(e){t.contains(e.target)||t.classList.remove("open")}));Array.from(t.querySelectorAll("li"));const n=t.querySelector(".current-lang");n&&t.prepend(n)}}));